# 数据类型和检测的方法

## 数据类型

### 基本数据类型

string、number、null、undefined、boolean、(symbol、bigInt)

### 引用类型

object

## 数据类型检测方式

### typeof

```javascript
// 准确判断
console.log(typeof 2); // number
console.log(typeof true); // boolean
console.log(typeof 'str'); // string
console.log(typeof undefined); // undefined
console.log(typeof NaN); // number
console.log(typeof function () {}); // function

// 不准确判断
console.log(typeof null); // object
console.log(typeof []); // object
console.log(typeof {}); // object
```

### instanceof

通过查找原型链来判断类型，不支持基本类型，instanceof 遇到基本类型会直接返回 false,而不会查找原型链。

```javascript
// 无法判断
console.log(2 instanceof Number); // false
console.log(true instanceof Boolean); // false
console.log('str' instanceof String); // false

// 准确判断
console.log([] instanceof Array); // true
console.log(function () {} instanceof Function); // true
console.log({} instanceof Object); // true
```

### constructor

可以查找是否是某个构造器的实例，但是不可信赖，因为开发者可以重写原型链，导致最终指向的构造器改变。

```javascript
console.log((2).constructor === Number); // true
console.log(true.constructor === Boolean); // true
console.log('str'.constructor === String); // true
console.log([].constructor === Array); // true
console.log(function () {}.constructor === Function); // true
console.log({}.constructor === Object); // true
```

### Object.prototype.toString

基本上所有对象的类型都可以获取，因为所有对象的原型链最终都指向了 Object。
之所以不采用 new Date().toString() 的方式是因为大部分对象都实现了自身的 toString。

```js
Object.prototype.toString.call(''); // [object String]
Object.prototype.toString.call(1); // [object Number]
Object.prototype.toString.call(true); // [object Boolean]
Object.prototype.toString.call(undefined); // [object Undefined]
Object.prototype.toString.call(null); // [object Null]

Object.prototype.toString.call(new Function()); // [object Function]
Object.prototype.toString.call(new Date()); // [object Date]
Object.prototype.toString.call([]); // [object Array]
Object.prototype.toString.call(new RegExp()); // [object RegExp]
Object.prototype.toString.call(new Error()); // [object Error]
Object.prototype.toString.call(document); // [object HTMLDocument]
Object.prototype.toString.call(window); //[object Window]
```
